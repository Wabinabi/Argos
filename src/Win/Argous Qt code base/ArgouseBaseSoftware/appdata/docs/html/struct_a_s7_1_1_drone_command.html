<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AS7 On-Board Software: AS7::DroneCommand Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="as7-custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AS7 On-Board Software
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('struct_a_s7_1_1_drone_command.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="struct_a_s7_1_1_drone_command-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">AS7::DroneCommand Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Ecapsulates commands to be carried out by drone.  
 <a href="struct_a_s7_1_1_drone_command.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_drone_8h_source.html">Drone.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad1d406bdba067d5711e66e796eca6ca8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_a_s7.html#aa12774c158a129fcda3ca5f80679b38e">DroneCommandType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#ad1d406bdba067d5711e66e796eca6ca8">type</a></td></tr>
<tr class="memdesc:ad1d406bdba067d5711e66e796eca6ca8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the main function of the command.  <a href="struct_a_s7_1_1_drone_command.html#ad1d406bdba067d5711e66e796eca6ca8">More...</a><br /></td></tr>
<tr class="separator:ad1d406bdba067d5711e66e796eca6ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af181ef3356a7b389a81ba09118411777"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#af181ef3356a7b389a81ba09118411777">desc</a></td></tr>
<tr class="memdesc:af181ef3356a7b389a81ba09118411777"><td class="mdescLeft">&#160;</td><td class="mdescRight">A description for logging and verbosity.  <a href="struct_a_s7_1_1_drone_command.html#af181ef3356a7b389a81ba09118411777">More...</a><br /></td></tr>
<tr class="separator:af181ef3356a7b389a81ba09118411777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a455e52fb93a740ba49a823a2ab8c268f"><td class="memItemLeft" align="right" valign="top">std::array&lt; float, <a class="el" href="_drone_8h.html#a82cd47956acdb3edc0e6f5227b9f70c2">NUM_CH</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#a455e52fb93a740ba49a823a2ab8c268f">channels</a></td></tr>
<tr class="memdesc:a455e52fb93a740ba49a823a2ab8c268f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A float for each channel from (-1 1) for normal channels and (0, 1) for absolute channels.  <a href="struct_a_s7_1_1_drone_command.html#a455e52fb93a740ba49a823a2ab8c268f">More...</a><br /></td></tr>
<tr class="separator:a455e52fb93a740ba49a823a2ab8c268f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8719da97610790b9dd0b2d95bdd6bb9a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#a8719da97610790b9dd0b2d95bdd6bb9a">duration</a></td></tr>
<tr class="memdesc:a8719da97610790b9dd0b2d95bdd6bb9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The duration of the command in milliseconds.  <a href="struct_a_s7_1_1_drone_command.html#a8719da97610790b9dd0b2d95bdd6bb9a">More...</a><br /></td></tr>
<tr class="separator:a8719da97610790b9dd0b2d95bdd6bb9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9071653b15de324d96e0ccde28a172ed"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#a9071653b15de324d96e0ccde28a172ed">rateMultiplier</a> = 1.0f</td></tr>
<tr class="memdesc:a9071653b15de324d96e0ccde28a172ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">The rate multiplier to adjust ramping speed if applicable.  <a href="struct_a_s7_1_1_drone_command.html#a9071653b15de324d96e0ccde28a172ed">More...</a><br /></td></tr>
<tr class="separator:a9071653b15de324d96e0ccde28a172ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dd331b4c5b77d24f6e7370977d3a6ec"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#a3dd331b4c5b77d24f6e7370977d3a6ec">p_x</a></td></tr>
<tr class="memdesc:a3dd331b4c5b77d24f6e7370977d3a6ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Position control in the forward axis.  <a href="struct_a_s7_1_1_drone_command.html#a3dd331b4c5b77d24f6e7370977d3a6ec">More...</a><br /></td></tr>
<tr class="separator:a3dd331b4c5b77d24f6e7370977d3a6ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3b7dfe32adf2e9eb9efa1e08a3fccc1"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#ad3b7dfe32adf2e9eb9efa1e08a3fccc1">p_y</a></td></tr>
<tr class="memdesc:ad3b7dfe32adf2e9eb9efa1e08a3fccc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Position control in the sideways axis.  <a href="struct_a_s7_1_1_drone_command.html#ad3b7dfe32adf2e9eb9efa1e08a3fccc1">More...</a><br /></td></tr>
<tr class="separator:ad3b7dfe32adf2e9eb9efa1e08a3fccc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c9b1498bfa5057d76592efe0a058b35"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#a0c9b1498bfa5057d76592efe0a058b35">p_z</a></td></tr>
<tr class="memdesc:a0c9b1498bfa5057d76592efe0a058b35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Position control of the height of the drone.  <a href="struct_a_s7_1_1_drone_command.html#a0c9b1498bfa5057d76592efe0a058b35">More...</a><br /></td></tr>
<tr class="separator:a0c9b1498bfa5057d76592efe0a058b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bd14aeb86624f8dee8f4e10998da6ea"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#a6bd14aeb86624f8dee8f4e10998da6ea">v_x</a></td></tr>
<tr class="memdesc:a6bd14aeb86624f8dee8f4e10998da6ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Velocity control in the forward axis.  <a href="struct_a_s7_1_1_drone_command.html#a6bd14aeb86624f8dee8f4e10998da6ea">More...</a><br /></td></tr>
<tr class="separator:a6bd14aeb86624f8dee8f4e10998da6ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f2dbe8ce1049307353e5a6f20432d5e"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#a2f2dbe8ce1049307353e5a6f20432d5e">v_y</a></td></tr>
<tr class="memdesc:a2f2dbe8ce1049307353e5a6f20432d5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Velocity control in the sideways axis.  <a href="struct_a_s7_1_1_drone_command.html#a2f2dbe8ce1049307353e5a6f20432d5e">More...</a><br /></td></tr>
<tr class="separator:a2f2dbe8ce1049307353e5a6f20432d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada1f0d810dcebba410c1942737ecd9e8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#ada1f0d810dcebba410c1942737ecd9e8">v_z</a></td></tr>
<tr class="memdesc:ada1f0d810dcebba410c1942737ecd9e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upwards thrust.  <a href="struct_a_s7_1_1_drone_command.html#ada1f0d810dcebba410c1942737ecd9e8">More...</a><br /></td></tr>
<tr class="separator:ada1f0d810dcebba410c1942737ecd9e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba77706f712f3dd86d0be0da54db3fd"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#acba77706f712f3dd86d0be0da54db3fd">p_rl</a></td></tr>
<tr class="memdesc:acba77706f712f3dd86d0be0da54db3fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Position control in the roll axis. Nod directly controllable on a drone.  <a href="struct_a_s7_1_1_drone_command.html#acba77706f712f3dd86d0be0da54db3fd">More...</a><br /></td></tr>
<tr class="separator:acba77706f712f3dd86d0be0da54db3fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d08d39ddb97935347b6488dc3f10039"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#a6d08d39ddb97935347b6488dc3f10039">p_pt</a></td></tr>
<tr class="memdesc:a6d08d39ddb97935347b6488dc3f10039"><td class="mdescLeft">&#160;</td><td class="mdescRight">Position control in the pitch axis. Nod directly controllable on a drone.  <a href="struct_a_s7_1_1_drone_command.html#a6d08d39ddb97935347b6488dc3f10039">More...</a><br /></td></tr>
<tr class="separator:a6d08d39ddb97935347b6488dc3f10039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd8ea7e33d6115deef125d8c0fd6505c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#abd8ea7e33d6115deef125d8c0fd6505c">p_yw</a></td></tr>
<tr class="memdesc:abd8ea7e33d6115deef125d8c0fd6505c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Position control in the yaw axis. Uses the compass to control heading.  <a href="struct_a_s7_1_1_drone_command.html#abd8ea7e33d6115deef125d8c0fd6505c">More...</a><br /></td></tr>
<tr class="separator:abd8ea7e33d6115deef125d8c0fd6505c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9de034c0b9d8b98e66c9335938099d1"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#aa9de034c0b9d8b98e66c9335938099d1">v_rl</a></td></tr>
<tr class="memdesc:aa9de034c0b9d8b98e66c9335938099d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Velocity control in the roll axis. Nod directly controllable on a drone.  <a href="struct_a_s7_1_1_drone_command.html#aa9de034c0b9d8b98e66c9335938099d1">More...</a><br /></td></tr>
<tr class="separator:aa9de034c0b9d8b98e66c9335938099d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10aea39ec717ee210698c0bc328fd683"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#a10aea39ec717ee210698c0bc328fd683">v_pt</a></td></tr>
<tr class="memdesc:a10aea39ec717ee210698c0bc328fd683"><td class="mdescLeft">&#160;</td><td class="mdescRight">Velocity control in the pitch axis. Nod directly controllable on a drone.  <a href="struct_a_s7_1_1_drone_command.html#a10aea39ec717ee210698c0bc328fd683">More...</a><br /></td></tr>
<tr class="separator:a10aea39ec717ee210698c0bc328fd683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace167d5320a1dc6a3aaf5318faad3931"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#ace167d5320a1dc6a3aaf5318faad3931">v_yw</a></td></tr>
<tr class="memdesc:ace167d5320a1dc6a3aaf5318faad3931"><td class="mdescLeft">&#160;</td><td class="mdescRight">Velcocity control in the yaw axis. Rotates drone left/right.  <a href="struct_a_s7_1_1_drone_command.html#ace167d5320a1dc6a3aaf5318faad3931">More...</a><br /></td></tr>
<tr class="separator:ace167d5320a1dc6a3aaf5318faad3931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac267795c756adc9310565fbec101d767"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_s7_1_1_drone_command.html#ac267795c756adc9310565fbec101d767">dataRecording</a></td></tr>
<tr class="memdesc:ac267795c756adc9310565fbec101d767"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if the drone should be recording data in this command.  <a href="struct_a_s7_1_1_drone_command.html#ac267795c756adc9310565fbec101d767">More...</a><br /></td></tr>
<tr class="separator:ac267795c756adc9310565fbec101d767"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Ecapsulates commands to be carried out by drone. </p>
<p >Characterised by type <code>{Blind, Guided, Landing, Arm}</code>, drone commands make up the basic unit for controlling the connected drone.</p>
<h3><a class="anchor" id="autotoc_md0"></a>
Attribute Characteristics</h3>
<p >Under <code>blind</code> commands, only the velocities of the controllable channels are used. These values are written directly to the channel. Command convention is prefixing <code>v_</code> for velocity control and <code>p_</code> for position control. The available axes of freedom are:</p>
<p >Cartesian co-ordinates where the origin is the starting point of the drone</p><ul>
<li><code>x</code>, <code>y</code>, <code>z</code></li>
</ul>
<p >Axes of rotation &ndash; pitch (tilt forward/back), roll (wiggle side to side), yaw (turn normally)</p><ul>
<li><code>rl</code>, <code>pt</code>, <code>yw</code></li>
</ul>
<p >Hence, to control the forward velocity of the drone, the command is:</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_s7_1_1_drone_command.html">DroneCommand</a> aCommand;</div>
<div class="line">aCommand.<a class="code hl_variable" href="struct_a_s7_1_1_drone_command.html#a6bd14aeb86624f8dee8f4e10998da6ea">v_x</a> = 0.5f</div>
<div class="ttc" id="astruct_a_s7_1_1_drone_command_html"><div class="ttname"><a href="struct_a_s7_1_1_drone_command.html">AS7::DroneCommand</a></div><div class="ttdoc">Ecapsulates commands to be carried out by drone.</div><div class="ttdef"><b>Definition:</b> Drone.h:125</div></div>
<div class="ttc" id="astruct_a_s7_1_1_drone_command_html_a6bd14aeb86624f8dee8f4e10998da6ea"><div class="ttname"><a href="struct_a_s7_1_1_drone_command.html#a6bd14aeb86624f8dee8f4e10998da6ea">AS7::DroneCommand::v_x</a></div><div class="ttdeci">float v_x</div><div class="ttdoc">Velocity control in the forward axis.</div><div class="ttdef"><b>Definition:</b> Drone.h:146</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1"></a>
Command Ramping and Ramp Types</h3>
<p >For all channels, <code><a class="el" href="_drone_8cpp.html">drone.cpp</a></code> defines a set 'ramp rate' depending on the application and control desired for the drone. Ramp rates are often found in motor applications where a motor has to be speed up at a certain rate to reduce damage or shock. In the case of drones, a linear ramp rate helps with ensuring the commands are carried out smoothly. Additionally, they allow for less rigid movement of the drone as as the channels transition smoothly and thus keep the channels alive, rather than emulating a disconnect. This has the added advantage of ensuring that the frame is not dropped due to suddden shifts in values. Ramp rates are defined by the <code>RAMPRATE</code> enumeration. The following ramping methods have been implemented:</p>
<ul>
<li><code>RAMPRATE_NONE</code> - The channel is instantly set to the target value</li>
<li><code>RAMPRATE_LINEAR</code> - The channel is increased linearly by the ramping value</li>
<li><code>RAMPRATE_PROP</code> - Tha channel is increased proportionately to the amount of travel left. If the target is far, the ramping is faster. If the target is close, the ramping is slower.</li>
</ul>
<h3><a class="anchor" id="autotoc_md2"></a>
Channel values and non-pure values</h3>
<p >In testing, it was noted that the best results came from using channel values that were between 0.1f and 0.9f. User discretion is advised when setting channel values to write.</p>
<h3><a class="anchor" id="autotoc_md3"></a>
Blind Commands</h3>
<div class="fragment"><div class="line"><a class="code hl_struct" href="struct_a_s7_1_1_drone_command.html">DroneCommand</a>.<a class="code hl_variable" href="struct_a_s7_1_1_drone_command.html#ada1f0d810dcebba410c1942737ecd9e8">v_z</a> = 0.1f</div>
<div class="ttc" id="astruct_a_s7_1_1_drone_command_html_ada1f0d810dcebba410c1942737ecd9e8"><div class="ttname"><a href="struct_a_s7_1_1_drone_command.html#ada1f0d810dcebba410c1942737ecd9e8">AS7::DroneCommand::v_z</a></div><div class="ttdeci">float v_z</div><div class="ttdoc">Upwards thrust.</div><div class="ttdef"><b>Definition:</b> Drone.h:150</div></div>
</div><!-- fragment --><p >This will emulate the user pulling up the 'throttle' stick to about 10%.</p>
<h3><a class="anchor" id="autotoc_md4"></a>
Guided Commands</h3>
<p >Guided commands aim to position-control the drone using the on-board ultrasonic sensors.</p>
<p >In the case of <a class="el" href="namespace_a_s7.html">AS7</a>, the left-right channels will aim to avoid obstacles whilst the z (height) channel will aim to keep the drone a constant height about the ground.</p>
<h4><a class="anchor" id="autotoc_md5"></a>
Proportional Control Guided Commands</h4>
<p >The current implementation of the z-height guided command is a form of proportional control from control theory. The amount of thrust applied to the TX Thrust Channel is proprtional to <code>target-current_value</code> or error measured in the Z-axis. This is multiplied by a proportionality constant and re-evaluated in the next loop. Fine-tuning of the proportionality constant is recommended for different propellers and drone configurations</p>
<h3><a class="anchor" id="autotoc_md6"></a>
Channels not controllable by drone</h3>
<ul>
<li>Roll</li>
<li>Pitch </li>
</ul>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a455e52fb93a740ba49a823a2ab8c268f" name="a455e52fb93a740ba49a823a2ab8c268f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a455e52fb93a740ba49a823a2ab8c268f">&#9670;&#160;</a></span>channels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt;float, <a class="el" href="_drone_8h.html#a82cd47956acdb3edc0e6f5227b9f70c2">NUM_CH</a>&gt; AS7::DroneCommand::channels</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A float for each channel from (-1 1) for normal channels and (0, 1) for absolute channels. </p>

</div>
</div>
<a id="ac267795c756adc9310565fbec101d767" name="ac267795c756adc9310565fbec101d767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac267795c756adc9310565fbec101d767">&#9670;&#160;</a></span>dataRecording</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AS7::DroneCommand::dataRecording</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates if the drone should be recording data in this command. </p>

</div>
</div>
<a id="af181ef3356a7b389a81ba09118411777" name="af181ef3356a7b389a81ba09118411777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af181ef3356a7b389a81ba09118411777">&#9670;&#160;</a></span>desc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string AS7::DroneCommand::desc</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A description for logging and verbosity. </p>

</div>
</div>
<a id="a8719da97610790b9dd0b2d95bdd6bb9a" name="a8719da97610790b9dd0b2d95bdd6bb9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8719da97610790b9dd0b2d95bdd6bb9a">&#9670;&#160;</a></span>duration</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AS7::DroneCommand::duration</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The duration of the command in milliseconds. </p>

</div>
</div>
<a id="a6d08d39ddb97935347b6488dc3f10039" name="a6d08d39ddb97935347b6488dc3f10039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d08d39ddb97935347b6488dc3f10039">&#9670;&#160;</a></span>p_pt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AS7::DroneCommand::p_pt</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Position control in the pitch axis. Nod directly controllable on a drone. </p>

</div>
</div>
<a id="acba77706f712f3dd86d0be0da54db3fd" name="acba77706f712f3dd86d0be0da54db3fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acba77706f712f3dd86d0be0da54db3fd">&#9670;&#160;</a></span>p_rl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AS7::DroneCommand::p_rl</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Position control in the roll axis. Nod directly controllable on a drone. </p>

</div>
</div>
<a id="a3dd331b4c5b77d24f6e7370977d3a6ec" name="a3dd331b4c5b77d24f6e7370977d3a6ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dd331b4c5b77d24f6e7370977d3a6ec">&#9670;&#160;</a></span>p_x</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AS7::DroneCommand::p_x</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Position control in the forward axis. </p>

</div>
</div>
<a id="ad3b7dfe32adf2e9eb9efa1e08a3fccc1" name="ad3b7dfe32adf2e9eb9efa1e08a3fccc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3b7dfe32adf2e9eb9efa1e08a3fccc1">&#9670;&#160;</a></span>p_y</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AS7::DroneCommand::p_y</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Position control in the sideways axis. </p>

</div>
</div>
<a id="abd8ea7e33d6115deef125d8c0fd6505c" name="abd8ea7e33d6115deef125d8c0fd6505c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd8ea7e33d6115deef125d8c0fd6505c">&#9670;&#160;</a></span>p_yw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AS7::DroneCommand::p_yw</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Position control in the yaw axis. Uses the compass to control heading. </p>

</div>
</div>
<a id="a0c9b1498bfa5057d76592efe0a058b35" name="a0c9b1498bfa5057d76592efe0a058b35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c9b1498bfa5057d76592efe0a058b35">&#9670;&#160;</a></span>p_z</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AS7::DroneCommand::p_z</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Position control of the height of the drone. </p>

</div>
</div>
<a id="a9071653b15de324d96e0ccde28a172ed" name="a9071653b15de324d96e0ccde28a172ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9071653b15de324d96e0ccde28a172ed">&#9670;&#160;</a></span>rateMultiplier</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AS7::DroneCommand::rateMultiplier = 1.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The rate multiplier to adjust ramping speed if applicable. </p>

</div>
</div>
<a id="ad1d406bdba067d5711e66e796eca6ca8" name="ad1d406bdba067d5711e66e796eca6ca8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1d406bdba067d5711e66e796eca6ca8">&#9670;&#160;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_a_s7.html#aa12774c158a129fcda3ca5f80679b38e">DroneCommandType</a> AS7::DroneCommand::type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the main function of the command. </p>

</div>
</div>
<a id="a10aea39ec717ee210698c0bc328fd683" name="a10aea39ec717ee210698c0bc328fd683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10aea39ec717ee210698c0bc328fd683">&#9670;&#160;</a></span>v_pt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AS7::DroneCommand::v_pt</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Velocity control in the pitch axis. Nod directly controllable on a drone. </p>

</div>
</div>
<a id="aa9de034c0b9d8b98e66c9335938099d1" name="aa9de034c0b9d8b98e66c9335938099d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9de034c0b9d8b98e66c9335938099d1">&#9670;&#160;</a></span>v_rl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AS7::DroneCommand::v_rl</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Velocity control in the roll axis. Nod directly controllable on a drone. </p>

</div>
</div>
<a id="a6bd14aeb86624f8dee8f4e10998da6ea" name="a6bd14aeb86624f8dee8f4e10998da6ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bd14aeb86624f8dee8f4e10998da6ea">&#9670;&#160;</a></span>v_x</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AS7::DroneCommand::v_x</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Velocity control in the forward axis. </p>

</div>
</div>
<a id="a2f2dbe8ce1049307353e5a6f20432d5e" name="a2f2dbe8ce1049307353e5a6f20432d5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f2dbe8ce1049307353e5a6f20432d5e">&#9670;&#160;</a></span>v_y</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AS7::DroneCommand::v_y</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Velocity control in the sideways axis. </p>

</div>
</div>
<a id="ace167d5320a1dc6a3aaf5318faad3931" name="ace167d5320a1dc6a3aaf5318faad3931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace167d5320a1dc6a3aaf5318faad3931">&#9670;&#160;</a></span>v_yw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AS7::DroneCommand::v_yw</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Velcocity control in the yaw axis. Rotates drone left/right. </p>

</div>
</div>
<a id="ada1f0d810dcebba410c1942737ecd9e8" name="ada1f0d810dcebba410c1942737ecd9e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada1f0d810dcebba410c1942737ecd9e8">&#9670;&#160;</a></span>v_z</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AS7::DroneCommand::v_z</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Upwards thrust. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>H:/repos/Argous/src/esp32/as7-gamma/<a class="el" href="_drone_8h_source.html">Drone.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_a_s7.html">AS7</a></li><li class="navelem"><a class="el" href="struct_a_s7_1_1_drone_command.html">DroneCommand</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
